---
  - name: Ansible Tower task
    hosts: all
    gather_facts: yes
    become: yes
    tasks:
      - name: Checking if httpd is installed or not
        command: yum list installed httpd
        register: result
        failed_when: result.rc == 1
        
      - name: Create log directory to store ssl log
        file:
          path: /var/www/html/ssl_log
          mode: 0755
          state: directory
          
      - name: Create index.html
        copy: 
          dest: /var/www/html/index.html
          content: "{{ ansible_hostname }} and {{ ansible_default_ipv4.address }} has been customized "
